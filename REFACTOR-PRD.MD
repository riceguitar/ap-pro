Understood. I’ll review the `riceguitar/ap-pro` GitHub repository to develop a Product Requirements Document (PRD) focused on a full refactor. This PRD will align the plugin with the latest WordPress version requirements, replace unnecessary external libraries with native WordPress alternatives, and enhance compatibility with modern page builders such as Elementor, Divi, Beaver Builder, and Gutenberg.

I’ll let you know once the PRD draft is ready for your review.


# Sermon Manager Pro Refactor – Product Requirements Document

## Introduction & Background

Sermon Manager Pro (SMP) is a premium WordPress plugin (v2.0.15) that extends the popular Sermon Manager plugin with additional features for churches. It provides custom sermon templates, multiple podcast support, and integrations with page builders like Divi, Elementor, Beaver Builder, WPBakery (Visual Composer), and even includes a live chat support widget. The plugin was originally built to support legacy WordPress versions (minimum WP 4.5 and PHP 5.3) and uses several external libraries (e.g. Twig templating engine, Masonry JS, FreshChat, RefTagger for Bible verses). Over time, various fixes were applied for compatibility with newer WordPress releases (5.5, 5.9, 6.2, etc.) and builder plugin updates. Now, a comprehensive refactor is needed to modernize the codebase, remove unnecessary external dependencies in favor of WordPress core functionality, and ensure first-class compatibility with **modern WordPress (Gutenberg)** and popular page builders (**Elementor, Divi, Beaver Builder, WPBakery**). This document outlines the requirements and tasks for that refactor.

## Goals and Objectives

* **Align with Current WordPress Standards:** Update the plugin to meet or exceed current WordPress coding standards and version requirements. Take full advantage of WordPress core features (blocks, REST API, etc.) introduced since WordPress 5.x, and drop support for outdated versions and practices. This will ensure SMP runs seamlessly on the latest WordPress (6.x and beyond) and PHP versions (PHP 8+).
* **Eliminate Unnecessary External Libraries:** Remove or replace external libraries and custom code that duplicate WordPress core functionality. Where possible, leverage native WordPress APIs and built-in libraries instead of bundled third-party scripts or packages. This will reduce maintenance overhead and improve compatibility and performance.
* **Enhance Page Builder Compatibility:** Refactor and update integrations with modern page builders – **Elementor**, **Divi**, **Beaver Builder**, **WPBakery/Visual Composer** – as well as the **Gutenberg block editor**. Ensure SMP’s features (sermon listings, templates, etc.) can be used within these builders without issues, using each builder’s recommended APIs or modules. The refactored plugin should be **fully compatible with the latest versions** of these builders, providing a smooth user experience when designing sermon pages with any of them.

By achieving these goals, the refactored Sermon Manager Pro will be more maintainable, future-proof, and convenient for end users building sites with today’s WordPress ecosystem.

## Requirements Overview

Below is a breakdown of specific requirements and tasks categorized by focus area:

### 1. WordPress Core Compatibility & Modernization

* **Update Minimum Supported Versions:** Increase the minimum WordPress and PHP requirements to current standards. The plugin currently lists “Requires at least: WP 4.5” and enforces PHP 5.3+ – these are obsolete. Raise requirements to **WordPress 5.8 or higher** (to ensure the block editor is available) and **PHP 7.4+** (PHP 8.x recommended) for the refactored version. This allows us to use modern core APIs and drop hacks for very old environments.
* **Embrace Block Editor Support:** Ensure the Sermon post type (`wpfc_sermon`) fully supports the Gutenberg block editor and no longer needs to disable it. Earlier versions temporarily disabled Gutenberg due to compatibility issues, but the pro plugin now explicitly *enables* the editor for sermons. We must continue this support, testing that sermon content (custom fields, meta boxes) works in the block editor. If the base Sermon Manager plugin hasn’t adopted blocks yet, consider providing custom block-based interfaces for sermon details or at least confirming that enabling the default editor does not break sermon metadata management.
* **Gutenberg Blocks for Sermon Content:** Build native **Gutenberg blocks** to represent Sermon Manager Pro features (e.g. sermon lists, sermon archive, sermon taxonomy listing). Currently, SMP registers a “sermons grid” block in code, but this may be incomplete. Expand on this by creating a set of blocks (or a single highly configurable block) for embedding sermon listings, series archives, speakers, etc. The block should provide an intuitive UI in the editor (with preview) and rely on dynamic rendering in PHP to reuse existing query logic. This will make SMP’s functionality accessible via the Block Editor and improve compatibility with Full Site Editing.
* **Use WordPress Settings & APIs:** Refactor plugin settings pages and global options to use WordPress’ Settings API and Customizer or Site Health where applicable. For example, ensure settings sanitization and retrieval use core functions (e.g. `register_setting`, `get_option`) rather than custom mechanisms. Similarly, any custom REST or AJAX endpoints should be replaced with WordPress REST API endpoints if feasible, benefiting from core authentication and routing.
* **Replace Custom Templating with WP Template Parts:** The plugin uses a Twig templating engine (Twig v1.x) for sermon templates, storing template files in a custom `wp-content/data/sermon-manager-for-wordpress` folder. We should eliminate Twig to reduce complexity. Replace it with native PHP templates or WordPress template parts: for example, use theme-compatible PHP template files for sermon archive and single layouts, or register block patterns/variations for different sermon layouts instead of generating HTML via Twig. The goal is to leverage the WordPress Template Hierarchy and block templating, making it easier for themes to override or for users to customize without a separate Twig system. If preserving user-created Twig templates is needed, provide a migration path (e.g. convert or manually recreate them as PHP or block templates). After refactoring, **no Twig library** should be needed – this removes an external dependency and aligns with common WP development practices.
* **Coding Standards & Best Practices:** Revise the codebase for compliance with WordPress Coding Standards (PSR-4 autoload is fine to keep, but ensure we follow naming/formatting conventions as per WPCS). The repository already includes PHP CodeSniffer rules for WP; the refactor should make the code pass these checks. Key areas to address: proper escaping of output (use `esc_html`, `esc_attr` etc.), sanitization of inputs, using nonces for form actions, and avoiding any direct database queries where WP provides functions (e.g. use WP Query, `$wpdb` with prepare when needed, etc.). Remove any deprecated WordPress function calls and replace with their modern equivalents. For example, if any legacy functions or parameters (like older jQuery methods or WordPress functions deprecated in 5.x) are in use, update them. The changelog shows fixes for deprecated PHP syntax and WP changes – ensure all such issues are resolved at the root.
* **Performance and Stability:** Ensure the plugin loads only what is necessary and performs efficiently on modern sites. For instance:

  * Only execute builder integration code if the respective builder plugin is active. If currently SMP always loads all integration classes, add conditional checks to load Divi/Elementor/Beaver code only when those plugins/themes are present, to avoid overhead for users not using those builders.
  * Only enqueue frontend assets (scripts, styles) on pages where they are needed. For example, the Masonry script or sermon CSS should load only on sermon listing pages or when a shortcode/block is present, not site-wide. Similarly, the RefTagger script for Bible verse pop-ups should be added only if the feature is enabled in settings and likely only on sermon content pages.
  * Review and optimize any database queries. The Elementor module code, for instance, adjusts queries for pagination and filtering; ensure these custom queries are efficient (using indices, avoiding excessive offsets as much as possible) or find alternative approaches (like leveraging WP\_Query’s built-in pagination or taxonomy queries). Caching might be introduced for expensive operations – e.g., caching results for sermon lists or heavy calculations – using Transients or the WP Object Cache where appropriate.
  * **Data Management:** Reevaluate how and where the plugin stores data. Currently, sermon templates are stored in custom folders and replicated into a custom post type. We might relocate **user data storage** to more conventional locations (e.g. use the `uploads/` directory or WP options) if it makes backups and management easier. Also, adjust the plugin’s clean-up behavior: the plugin currently deletes the entire `wp-content/data` directory on deactivation, which could cause unintended data loss. Instead, perform data removal on uninstall (using `register_uninstall_hook`) and perhaps only remove specific files/folders (like SMP’s own template files) rather than a broad `data/` folder wipe. This aligns with WP guidelines of not losing user content on simple deactivation.

### 2. Removal or Replacement of External Libraries

One key objective is to remove *unnecessary* external libraries, especially when equivalent functionality exists in WordPress core. Each identified external dependency should be reviewed and addressed as follows:

* **Twig Templating Engine:** *Remove this dependency.* As noted, Twig (v1.x) is currently required by SMP for rendering sermon templates. WordPress does not natively use Twig; instead, we will refactor template rendering to use PHP-based templates or block markup, eliminating the need for Twig entirely. This means deleting the Twig library from the `vendor/` directory and its integration code. All template files can be converted from `.twig` to PHP or HTML as needed. The new approach should maintain the same output flexibility (multiple template “skins” for sermons) using native tools. For example, we might package several PHP template files and allow admins to select one via settings, or distribute the layouts as block patterns. By doing so, we drop an external package and rely on core templating mechanisms.
* **Masonry JS Library:** The plugin bundles **Masonry v4.2.2** (a JavaScript grid layout library) in its assets. WordPress core actually includes Masonry (as a script handle `masonry`) for themes/plugins to use, albeit historically an older version. We have two options: if the core-provided Masonry script is sufficiently up-to-date or acceptable, use `wp_enqueue_script('masonry')` instead of the packaged file. If a newer Masonry (v4) is needed for features, consider updating the dependency but still loading it via `wp_enqueue_script` from an official source or CDN, rather than keeping a copy in our plugin. The goal is to avoid maintaining a large third-party script ourselves. If we use core’s version, test to ensure our layouts still work (adjust any selectors or options accordingly). If the Masonry functionality is only minor (for example, just for a grid of sermon thumbnails), we could even consider replacing it with pure CSS grid or Flexbox for simpler layouts, removing the need for the script entirely – but only if it doesn’t reduce functionality.
* **FreshChat Support Widget:** SMP integrates a FreshChat widget for in-plugin live support chat. While this is an external service rather than a library, we should ensure it does not hinder performance or compatibility. Actions: Load the FreshChat script **conditionally** – likely only in the WordPress admin or on the plugin’s settings pages where support might be needed. It should not load on the front-end of sites (to avoid adding an external script for church website visitors). If possible, provide a setting to toggle this support chat on/off. As an alternative (if removing it entirely is acceptable), we could replace live chat with support links or a form that opens on the plugin site, but since it’s a Pro feature, we likely keep it. Just make sure it’s sandboxed to the admin and does not conflict with other admin scripts.
* **RefTagger (Bible Verse Popups):** The plugin includes a small script to load the RefTagger library from reftagger.com, enabling Bible verse tooltips. This is a valuable feature for sermon content, but it’s another external dependency. We should also **load this conditionally** and make it optional. Perhaps tie it to a setting “Enable Bible verse pop-ups” – if enabled, enqueue the script (or the small inline loader as currently done) on sermon detail pages or anywhere verses might appear. There is no native WP equivalent for this, so we won’t remove it completely; instead, we ensure it’s only used when needed. Document in the code that it’s an external service and ensure it doesn’t slow down the site (the script is loaded asynchronously as per current code, which is good).
* **CAcert Certificate Bundle:** The plugin repository contains a CA certificates bundle file (`assets/CAcerts/cacert.pem`). This was likely included to facilitate secure connections for license validation or other remote calls in environments lacking updated CA certs. In modern environments, WordPress HTTP API and underlying cURL usually handle certificate verification. We should remove this file and any custom cURL options using it, unless there is a specific need to support very old PHP installs. Our raised requirements to modern PHP/WP mean this is probably unnecessary. Use WordPress’ `wp_remote_request` (already in use for license checks) which relies on the system or bundled certs, rather than manually including a cert bundle. Removing this simplifies the package and avoids confusion of maintaining an extra cert store.
* **Licensing & Update Checker Library:** The plugin currently implements license key validation via a custom integration with WP for Church’s API and a WHMCS licensing system. There was also an Easy Digital Downloads (EDD) license updater class in the code (commented out). As part of the refactor, we should streamline the licensing approach. While this may not involve an external “library” per se, it’s worth considering if we can leverage a standardized solution: for example, if the product is delivered via EDD, using EDD’s official licensing class (if applicable) rather than custom code, or if delivered via another system, possibly using the WP 5.5+ built-in plugin auto-updates with a custom update endpoint. At minimum, **refactor the licensing code for clarity and security:** ensure license checks (to `wpforchurch.com` or WHMCS) use WP HTTP API securely (they do), and handle failures gracefully. Remove any leftover, unused updater code (like the commented `SMPRO_SL_Plugin_Updater` logic) to avoid confusion. The end goal is a clean license verification system that doesn’t rely on outdated libraries. If no external library is needed for this (likely not), just maintain the functionality with cleaned-up code.

By addressing each of the above, the refactored plugin will depend far less on third-party code, reducing potential conflicts and making maintenance easier. WordPress core will provide much of the needed functionality.

### 3. Enhanced Integration with Page Builders

Sermon Manager Pro’s selling points include custom modules/elements for major page builders. We need to refactor and update these integrations to be fully compatible with the **latest versions (2025)** of each builder. Key actions per builder:

* **Elementor Integration:** Update SMP’s Elementor widgets and underlying code to align with Elementor’s current API. The plugin registers custom Elementor category/tabs for its widgets and defines multiple Elementor widget classes (e.g., sermon listings, audio player, video player, taxonomy lists). Ensure all these widgets subclass Elementor’s base classes correctly and use up-to-date controls. For instance, check that our widgets extend `Widget_Base` properly and implement the required methods (`get_name()`, `get_title()`, `get_icon()`, `get_categories()`, etc. in newer Elementor versions). Replace any deprecated Elementor hooks or functions. From SMP’s code, we see custom query controls and pagination fixes being applied – verify if those are still needed or if Elementor now has native support for those features (Elementor Pro has a Query Control that might cover some of this). The refactor should also fix any known issues: past changelogs mention Elementor incompatibilities and fatal errors that were fixed, so double-check the areas like taxonomy queries, CSS loading, etc., to ensure stability. Finally, test the Elementor widgets in the editor and frontend: users should be able to add a “Sermons List” or similar widget, configure it (select category, number of sermons, etc.), and see it render correctly. Any issues with filtering, pagination, or “duplicate posts” in these widgets (which the code was managing via an avoid list) should be resolved with elegant solutions or comments in code if still needed.
* **Divi Builder Integration:** Divi (Elegant Themes) often requires custom modules or uses shortcodes. SMP provides custom Divi Builder Modules according to its feature list. Update these modules to work with the latest Divi Builder (which as of 2025 may have undergone performance improvements and API changes). The plugin includes a `smp-divi-override.php` file that overrides a Divi theme function to suppress meta info on certain pages – verify this hack is still needed, and if so, ensure it doesn’t conflict with current Divi theme code. If Divi now offers a formal way to hide meta on specific pages, use that instead. For the Divi modules themselves (likely defined under `includes/shortcodes/divi/`), ensure they follow Divi’s current module registration approach. Divi might use PHP classes or a JSON configuration for modules; update accordingly so that Sermon modules appear in the Divi builder library and function correctly. Known issues to test for (based on changelog): pagination and filtering within Divi modules, double comments or duplicate content issues on Divi pages, and builder timeouts or performance (earlier versions had “modules timeout” issues). The refactor should eliminate those problems. If needed, consult Divi’s developer docs for any new best practices (for example, ensuring compatibility with Divi’s Visual Builder live preview, which might require specific JavaScript events or data attributes).
* **Beaver Builder Integration:** Beaver Builder modules provided by SMP should be audited and updated for the latest Beaver Builder (v2.x+). The codebase has files for Beaver (under `includes/shortcodes/beaver/`). Beaver modules are typically registered via `FLBuilder::register_module` in PHP. Confirm that SMP’s Beaver modules (sermon list and taxonomy) are registered only when Beaver Builder is active. Update their settings forms and front-end rendering as needed. Test that you can insert a Sermon module in Beaver Builder, configure its settings (e.g., choose sermon series or layout), and it displays properly on the page. Past notes indicate issues like filtering not working in Beaver modules and errors when no terms are present – ensure these are fixed by the refactor. Beaver Builder’s API is more stable, but check if any changes (like new required parameters or deprecations) have occurred and adjust code accordingly.
* **WPBakery Page Builder (Visual Composer) Integration:** SMP lists support for WPBakery Page Builder as well. There are likely shortcodes or integration code under `includes/shortcodes/visual-composer/`. Typically, WPBakery integration might be done by mapping shortcodes to the builder’s interface (using `vc_map()` calls). Update these to the latest WPBakery conventions. Ensure that when WPBakery is active, the SMP elements (sermon blog list, taxonomy list, etc.) appear in the Add Element dialog with proper names and icons. Test their functionality: earlier issues to verify include duplicated images and pagination not showing in WPBakery elements – the refactor should resolve any remaining glitches (perhaps by using the builder’s recommended settings or attributes for multi-post elements).
* **General Integration Improvements:** Across all builders, aim to *reduce duplicate code* and increase consistency. If possible, refactor common logic (like retrieving sermons or building query args) into shared functions that each builder module can use, rather than maintaining separate logic for each. For example, if all builder widgets need to fetch sermons with certain filters, have a central function (maybe in a core class or a trait) to generate the WP\_Query args (the plugin partially does this with shared functions and even a Shortcodes Manager). This ensures that improvements (like a new filtering option or performance tweak) apply to all builders uniformly.
* **Testing with Builders:** A critical part of acceptance (detailed below) will be testing SMP with each builder plugin (and combinations if possible) to ensure there are no PHP errors, no JavaScript console errors in builder UIs, and that the design output is as expected. The refactor should also include updating any builder-specific styling as needed – e.g., if Divi or Elementor changed CSS class names or DOM structure, make sure our templates still look correct. Additionally, confirm compatibility with **Genesis Framework** if relevant: the changelog references a “Genesis template” fix and issues with Genesis theme features (like date formats, meta). If SMP provides a Genesis-specific sermon template, ensure it’s updated to work with Genesis (for example, using Genesis hooks properly) and test on a Genesis child theme.

By thoroughly updating each integration, Sermon Manager Pro will “play nice” with modern page builders, allowing church website creators to drag-and-drop sermon content in their tool of choice without encountering errors or layout problems.

### 4. Additional Improvements & Housekeeping

* **Admin UI and UX:** Review the plugin’s admin interface for managing sermons and settings. If any parts of the UI are clunky or outdated, improve them. For instance, if the plugin adds admin menu pages for Sermon Manager Pro settings, ensure they use the WordPress admin styles and patterns (no outdated screen frameworks). Simplify where possible – e.g., if there was a custom template manager UI, see if it’s still needed once we remove Twig (perhaps it becomes selecting a template from a dropdown instead of a full UI). The live chat support button should be unobtrusive and only present where appropriate (maybe on the SMP settings page or as an admin bar item, rather than on every admin page).
* **Accessibility & i18n:** As we refactor, ensure the front-end output and back-end forms meet accessibility guidelines. Use proper HTML elements (headings, lists, form labels) in generated content so that sermon lists or players are accessible. Also verify all user-facing strings are translatable (wrapped in `__()` or `_e()` with the text domain `sermon-manager-pro` as seen in the code). Update the text domain in case anything changed (likely remains the same). If we change any UI text, provide updated strings for translation.
* **Backward Compatibility Considerations:** While modernizing, we must preserve existing users’ content and settings. The refactored plugin should **migrate or honor existing data**: for example, if a user previously selected a particular sermon template (Twig-based), after update we might default them to an equivalent new template. Any shortcode that the plugin provided (for those not using builders) should still work after refactor (unless replaced by blocks – in which case, consider providing a fallback or at least document that the block is the new method). Maintain the same **shortcode names and attributes** if they exist, or provide backward compatibility via a shim. Similarly, if some users relied on filtering options in shortcodes or builder modules, keep those or provide alternatives. Essentially, an update to the new version should not break the site’s existing sermon displays – they should seamlessly adopt the new code. We can include a notice in release notes if any breaking change is unavoidable, but aim to minimize those.
* **Documentation & Examples:** Prepare updates to documentation to reflect the refactored plugin. This includes the readme (e.g., bump “Requires at least” and “Tested up to” values to the new targets, remove references to things that were changed like Twig or Intercom, and update the feature list if needed). If we introduce Gutenberg blocks, highlight those in the description. Provide guidance for using SMP with page builders (perhaps a brief help section in the README or on the website, since we want users to know how to find our modules in Elementor/Divi, etc.). If any feature toggles were added (like enabling verse popups or chat), document those settings. Ensure that the “Full List of Pro Features” link and site documentation is updated in tandem with this refactor.

## Testing & Acceptance Criteria

The refactored Sermon Manager Pro will be considered successful when all the following criteria are met:

* **Passes Core Compatibility Tests:** The plugin runs without errors on the latest WordPress core (currently 6.x) and PHP 8+. No PHP warnings or notices should appear (particularly test on PHP 8.1/8.2 which are stricter). Verify that all previously known compatibility issues (e.g., the PHP 8 deprecation fixed in 2.0.13) have been resolved in the new code. The plugin’s “Tested up to” version in readme can be confidently updated (e.g. 6.7 or whatever is current) after testing.
* **No Reliance on Removed Libraries:** Confirm that Twig is fully removed – no Twig classes or `vendor/twig` autoload remains. The plugin should function using native templates/blocks. The Masonry library file should be gone if replaced by core’s; FreshChat and RefTagger scripts should only load under intended conditions. In short, the plugin should not include or load any third-party assets that we decided to eliminate.
* **Feature Parity and Stability:** All major features of SMP work as before or better. This includes: sermon listing pages, single sermon pages with the chosen template, podcast feed functionality, and any migration tools. Check that multi-podcast support still works (if the plugin generates multiple podcast RSS feeds, ensure those feeds are intact). Verify features like “page assignment for archive & taxonomy” (the ability to assign a WordPress Page to act as sermon archive) still operate, since the Divi override code suggests custom behavior there. New implementations (blocks, etc.) should cover these use cases elegantly.
* **Page Builder Integration Testing:** For each supported builder, manually test the integration:

  * *Elementor:* Install latest Elementor. In a test page, add each “Sermon” widget provided by SMP (sermon list, sermon archive, audio player, etc.). Configure its settings (taxonomy filters, etc.) and preview. The widget should display correctly in the Elementor editor *and* on the live page. No errors should occur when editing or viewing. Test edge cases like 0 sermons, pagination clicking, etc.
  * *Divi:* Activate Divi theme (and builder). In the Divi Visual Builder, insert the Sermon Manager Pro modules (they might appear as custom modules named accordingly). Ensure they render in the builder and on frontend. Test a Divi page that has been assigned as the “Sermon Archive Page” via SMP settings – it should show sermons without duplicate meta or other theme artifacts.
  * *Beaver Builder:* Activate Beaver Builder plugin. Using it on a page, add the SMP Sermon modules. Configure and check display. Ensure that if no taxonomy is selected the module fails gracefully (past bug fixed) and that filtering options work.
  * *WPBakery:* With WPBakery Page Builder, check that SMP elements are listed and can be added. Verify their output and options.
    Additionally, confirm that having **multiple builders active** (in realistic scenarios) does not cause conflicts. For example, if both Elementor and Divi are present (rare but possible on a site), SMP should ideally not break anything – our conditional loading should handle that. Focus on ensuring that each integration is isolated and only triggers when its builder is in use.
* **Backward Compatibility and Migration:** Upgrade a test site from the old SMP version to the refactored version. Ensure that existing settings (like license key, selected template, etc.) carry over. Existing shortcodes in content should still produce the expected output (or at least not break the page – if we plan to deprecate shortcodes in favor of blocks, they should degrade gracefully or we provide a fallback implementation). Existing saved data like sermon posts, series, speakers, and any uploaded sermon files must remain intact and linked. If any data structure changed (e.g., if we moved templates from files to patterns), run any migration script and verify results. Essentially, current users should be able to update without needing to reconfigure everything from scratch.
* **Performance & Security Checks:** Measure that the plugin’s performance is acceptable. For example, loading a page of 20 sermons with a template should not be significantly slower than before – ideally faster if we optimized queries. The refactored plugin should also pass security checks: no obvious XSS, CSRF, or SQL injection vectors (use WordPress security best practices for all new code). If possible, run automated tests (unit tests included or a plugin like Query Monitor for performance, Linting for code) to ensure quality.
* **Approval of Feature Scope:** Confirm that no key feature was lost or significantly reduced by the refactor (unless explicitly decided). The management team (or product owner) should review that all listed features in marketing material – templates, multiple podcasts, builder support, SEO readiness, live chat, etc. – are present and improved. Any removed or changed functionality should have been communicated and approved.
* **Documentation & Readme Updated:** The final deliverable should include an updated `readme.txt` and/or user guide reflecting the changes. For example, if we replaced the templating system, the README might remove mention of “custom templates” being in a certain folder and instead explain how to use the new system. It should also reflect the new compatibility (e.g. “Tested up to WordPress 6.X, requires PHP 7.4+”). Internal documentation (comments in code, a MIGRATION.md for devs if needed) should also be provided so future developers (or AI agents) understand the new architecture.

Once all the above criteria are met and verified, we can consider the refactoring complete and proceed to release the updated Sermon Manager Pro. This refactor will position the plugin for longevity, with cleaner code, fewer external dependencies, and strong compatibility with the evolving WordPress platform and ecosystem. The end result should be a smoother experience for both developers and end users – a plugin that “just works” with modern WordPress and page builders, while being easier to maintain and extend in the future.
